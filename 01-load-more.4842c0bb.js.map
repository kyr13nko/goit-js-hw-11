{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,uCCAAC,EAAAD,EAAA,SAEO,SAASE,EAAaC,GAC3B,IAAMC,EAASD,EACZE,KAAI,SAAAC,G,IAAGC,EAAYD,EAAZC,aAAcC,EAAIF,EAAJE,KAAMC,EAAKH,EAALG,MAAOC,EAAKJ,EAALI,MAAOC,EAAQL,EAARK,SAAUC,EAASN,EAATM,UAClD,MAAO,kEAEiCC,OAAtBN,EAAa,WAGNM,OAHeL,EAAK,2HAMpBK,OAHAJ,EAAM,4FAMHI,OAHHH,EAAM,+FAMFG,OAHDF,EAAS,gGAGEE,OAAVD,EAAU,yE,IAMxCE,KAAK,IAERb,EAAAc,KAAKC,QAAQC,mBAAmB,YAAab,E,gBDrB/CW,KAAKG,KAAKC,iBAAiB,UA0C3B,SAAsBC,GACpBA,EAAMC,iBAEN,IAAMC,EAAaF,EAAMG,OAAOC,SAASC,YAAYC,MAErD,IAAKJ,EAAWK,QAAUL,IAAeM,EACvC,OAAOC,EAAAC,OAAOC,QAAQ,oCAExBH,EAAcN,EACdU,EAAa,EAEb/B,EAAAc,KAAKC,QAAQiB,UAAY,GAEzBC,EAAUN,EAAaI,GAEvB/B,EAAAc,KAAKG,KAAKiB,O,IAvDZ,IACIH,EADAJ,EAAc,G,SAGHM,EAAUE,EAAGC,G,OAAbC,EAASC,MAAAC,KAAAC,U,UAATH,I,OAAAA,EAAfI,EAAA3C,EAAA,CAAA2C,EAAAC,GAAAC,MAAA,SAAAC,EAAyBT,EAAGC,G,IAElBS,EAaAC,E,4FAba,EAAAC,EAAAC,kBAAiBb,EAAGC,G,UAAjCS,EAAII,EAAAC,KACVC,QAAQC,IAAIP,EAAKQ,MACjBF,QAAQC,IAAIP,GAEPA,EAAKS,UAAS,C,sBACjB1B,EAAAC,OAAO0B,QACL,4E,0BAKJtD,EAAa4C,EAAKQ,MAEZP,EAAWU,KAAKC,KAAKZ,EAAKS,UAAY,IAExCvB,GAAce,GAChB9C,EAAAc,KAAK4C,YAAYC,UAAUC,IAAI,aAC/BhC,EAAAC,OAAOgC,KAAM,+DAEb7D,EAAAc,KAAK4C,YAAYC,UAAUG,OAAO,a,kDAGpCX,QAAQC,IAAGH,EAAAc,IACXnC,EAAAC,OAAO0B,QAAS,qD,2DAzBIjB,MAAAC,KAAAC,U,CA6BxBxC,EAAAc,KAAK4C,YAAYxC,iBAAiB,SAElC,WACEa,GAAc,EACd/B,EAAAc,KAAK4C,YAAYC,UAAUC,IAAI,aAC/B3B,EAAUN,EAAaI,E","sources":["src/js/01-load-more-btn.js","src/js/01-markup.js"],"sourcesContent":["import { Notify } from 'notiflix';\n\nimport { fetchPixabayData } from './pixabay-api';\nimport { createMarkup } from './01-markup';\nimport { refs } from './refs';\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nlet searchQuery = '';\nlet searchPage;\n\nasync function getImages(q, pages) {\n  try {\n    const data = await fetchPixabayData(q, pages);\n    console.log(data.hits);\n    console.log(data);\n\n    if (!data.totalHits) {\n      Notify.failure(\n        'Sorry, there are no images matching your search query. Please try again.'\n      );\n      return;\n    }\n\n    createMarkup(data.hits);\n\n    const lastPage = Math.ceil(data.totalHits / 40);\n\n    if (searchPage >= lastPage) {\n      refs.loadMoreBtn.classList.add('is-hidden');\n      Notify.info(`We're sorry, but you've reached the end of search results.`);\n    } else {\n      refs.loadMoreBtn.classList.remove('is-hidden');\n    }\n  } catch (error) {\n    console.log(error);\n    Notify.failure(`Ooops... Something goes wrong. Please, try again.`);\n  }\n}\n\nrefs.loadMoreBtn.addEventListener('click', onLoadMoreBtnClick);\n\nfunction onLoadMoreBtnClick() {\n  searchPage += 1;\n  refs.loadMoreBtn.classList.add('is-hidden');\n  getImages(searchQuery, searchPage);\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  const inputValue = event.target.elements.searchQuery.value;\n\n  if (!inputValue.trim() || inputValue === searchQuery)\n    return Notify.warning('Please enter something to search');\n\n  searchQuery = inputValue;\n  searchPage = 1;\n\n  refs.gallery.innerHTML = '';\n\n  getImages(searchQuery, searchPage);\n\n  refs.form.reset();\n}\n","import { refs } from './refs';\n\nexport function createMarkup(array) {\n  const markup = array\n    .map(({ webformatURL, tags, likes, views, comments, downloads }) => {\n      return `\n          <div class=\"photo-card-ml\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n            <div class=\"info\">\n              <p class=\"info-item\">\n                <b>Likes</b> ${likes}\n              </p>\n              <p class=\"info-item\">\n                <b>Views</b> ${views}\n              </p>\n              <p class=\"info-item\">\n                <b>Comments</b> ${comments}\n              </p>\n              <p class=\"info-item\">\n                <b>Downloads</b> ${downloads}\n              </p>\n            </div>\n          </div>\n          `;\n    })\n    .join('');\n\n  refs.gallery.insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["$bpxeT","parcelRequire","$4Nugj","$efd20dc2524f8619$export$24783e9f3a24abe4","array","markup","map","param","webformatURL","tags","likes","views","comments","downloads","concat","join","refs","gallery","insertAdjacentHTML","form","addEventListener","event","preventDefault","inputValue","target","elements","searchQuery","value","trim","$8de1139580c334fc$var$searchQuery","$6JpON","Notify","warning","$8de1139580c334fc$var$searchPage","innerHTML","$8de1139580c334fc$var$getImages","reset","q","pages","$8de1139580c334fc$var$_getImages","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","data","lastPage","$8H72y","fetchPixabayData","_ctx","sent","console","log","hits","totalHits","failure","Math","ceil","loadMoreBtn","classList","add","info","remove","t0"],"version":3,"file":"01-load-more.4842c0bb.js.map"}