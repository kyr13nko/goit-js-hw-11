{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,iEAMAC,EAAAC,KAAKC,KAAKC,iBAAiB,UAuC3B,SAAsBC,GACpBA,EAAMC,iBAEN,IAAMC,EAAaF,EAAMG,OAAOC,SAASC,YAAYC,MAErD,IAAKJ,EAAWK,QAAUL,IAAeM,EACvC,OAAOC,EAAAC,OAAOC,QAAQ,oCAExBH,EAAcN,EACdU,EAAa,EAEbhB,EAAAC,KAAKgB,QAAQC,UAAY,G,SA7CFC,EAAGC,GAAbC,EAASC,MAAAC,KAAAC,U,CA+CtBC,CAAUb,EAAaI,GAEvBhB,EAAAC,KAAKC,KAAKwB,O,IApDZ,IACIV,EADAJ,EAAc,G,SAGHS,I,OAAAA,EAAfM,EAAA7B,EAAA,CAAA6B,EAAAC,GAAAC,MAAA,SAAAC,EAAyBX,EAAGC,G,IAElBW,EAaAC,E,4FAba,EAAAC,EAAAC,kBAAiBf,EAAGC,G,UAAjCW,EAAII,EAAAC,KACVC,QAAQC,IAAIP,EAAKQ,MACjBF,QAAQC,IAAIP,GAEPA,EAAKS,UAAS,C,sBACjB3B,EAAAC,OAAO2B,QACL,4E,2BAKJ,EAAAC,EAAAC,cAAaZ,EAAKQ,MAEZP,EAAWY,KAAKC,KAAKd,EAAKS,UAAY,IAExCxB,GAAcgB,GAChBnB,EAAAC,OAAOgC,KAAM,8D,kDAIfT,QAAQC,IAAGH,EAAAY,IACXlC,EAAAC,OAAO2B,QAAS,qD,2DAvBInB,MAAAC,KAAAC,U","sources":["src/js/02-scroll.js"],"sourcesContent":["import { Notify } from 'notiflix';\n\nimport { fetchPixabayData } from './pixabay-api';\nimport { createMarkup } from './01-markup';\nimport { refs } from './refs';\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nlet searchQuery = '';\nlet searchPage;\n\nasync function getImages(q, pages) {\n  try {\n    const data = await fetchPixabayData(q, pages);\n    console.log(data.hits);\n    console.log(data);\n\n    if (!data.totalHits) {\n      Notify.failure(\n        'Sorry, there are no images matching your search query. Please try again.'\n      );\n      return;\n    }\n\n    createMarkup(data.hits);\n\n    const lastPage = Math.ceil(data.totalHits / 40);\n\n    if (searchPage >= lastPage) {\n      Notify.info(`We're sorry, but you've reached the end of search results.`);\n    } else {\n    }\n  } catch (error) {\n    console.log(error);\n    Notify.failure(`Ooops... Something goes wrong. Please, try again.`);\n  }\n}\n\n// refs.loadMoreBtn.addEventListener('click', onLoadMoreBtnClick);\n\n// function onLoadMoreBtnClick() {\n//   searchPage += 1;\n//   getImages(searchQuery, searchPage);\n// }\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  const inputValue = event.target.elements.searchQuery.value;\n\n  if (!inputValue.trim() || inputValue === searchQuery)\n    return Notify.warning('Please enter something to search');\n\n  searchQuery = inputValue;\n  searchPage = 1;\n\n  refs.gallery.innerHTML = '';\n\n  getImages(searchQuery, searchPage);\n\n  refs.form.reset();\n}\n"],"names":["$bpxeT","parcelRequire","$4Nugj","refs","form","addEventListener","event","preventDefault","inputValue","target","elements","searchQuery","value","trim","$90b5ba0196ef99e0$var$searchQuery","$6JpON","Notify","warning","$90b5ba0196ef99e0$var$searchPage","gallery","innerHTML","q","pages","$90b5ba0196ef99e0$var$_getImages","apply","this","arguments","$90b5ba0196ef99e0$var$getImages","reset","$parcel$interopDefault","$2TvXO","mark","_callee","data","lastPage","$8H72y","fetchPixabayData","_ctx","sent","console","log","hits","totalHits","failure","$kAyEQ","createMarkup","Math","ceil","info","t0"],"version":3,"file":"02-scroll.e8754cbd.js.map"}