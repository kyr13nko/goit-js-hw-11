var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in o){var r=o[e];delete o[e];var t={id:e,exports:{}};return n[e]=t,r.call(t.exports,t,t.exports),t.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,n){o[e]=n},e.parcelRequired7c6=r);var t=r("6fOXY"),s=r("krGWQ");function i(e){const n=e.map((({webformatURL:e,largeImageURL:n,tags:o,likes:r,views:t,comments:s,downloads:i})=>`\n        <a class="link-card" href="${n}">\n          <div class="photo-card">\n            <img src="${e}" alt="${o}" loading="lazy" />\n            <div class="info">\n              <p class="info-item">\n                <b>Likes</b> ${r}\n              </p>\n              <p class="info-item">\n                <b>Views</b> ${t}\n              </p>\n              <p class="info-item">\n                <b>Comments</b> ${s}\n              </p>\n              <p class="info-item">\n                <b>Downloads</b> ${i}\n              </p>\n            </div>\n          </div>\n        </a>\n        `)).join("");s.refs.gallery.insertAdjacentHTML("beforeend",n)}s=r("krGWQ");var a=r("7Y9D8");s.refs.form.addEventListener("submit",(function(e){e.preventDefault();const n=e.target.elements.searchQuery.value;if(!n.trim()||n===f)return a.Notify.warning("Please enter something to search");f=n,l=1,s.refs.gallery.innerHTML="",d(f,l),s.refs.form.reset()}));let l,f="";const c=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(console.log(e),d(f,l))}))}),{root:null,rootMargin:"100px",threshold:1});async function d(e,n){try{const o=await(0,t.fetchPixabayData)(e,n);if(console.log(o.hits),console.log(o),!o.totalHits)return void a.Notify.failure("Sorry, there are no images matching your search query. Please try again.");i(o.hits),1===l&&a.Notify.success(`Hooray! We found ${o.totalHits} images.`);const r=Math.ceil(o.totalHits/40);if(l===r)return c.unobserve(s.refs.guard),void a.Notify.info("We're sorry, but you've reached the end of search results.");l+=1,c.observe(s.refs.guard)}catch(e){console.log(e),a.Notify.failure("Ooops... Something goes wrong. Please, try again.")}}
//# sourceMappingURL=02-scroll.afca586c.js.map
